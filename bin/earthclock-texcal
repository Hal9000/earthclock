#!/usr/bin/env ruby
# frozen_string_literal: true

$stdout.sync = true
$LOAD_PATH.unshift(File.expand_path("../lib", __dir__))

require "earthclock/earth_model"

texture_path = File.expand_path(ENV["EC_TEXTURE"] || File.join(Dir.pwd, "earth.jpg"))
model = EarthClock::EarthModel.new(texture_path)
col, deg = model.estimate_seam_offset
puts "Texture: #{texture_path}"
puts "Width: #{model.width}, Height: #{model.height}"
puts "Estimated seam column: #{col}"
puts "Suggested EC_TEX_LON_OFFSET_DEG: #{deg.round(2)}"
puts
puts "Run with:"
puts "  EC_TEX_LON_OFFSET_DEG=#{deg.round(2)} bin/earthclock"

